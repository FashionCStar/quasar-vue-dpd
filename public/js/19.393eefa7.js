(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"86e6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[[n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Users",data:e.userList,columns:e.columns,"row-key":"name",pagination:e.pagination,filter:e.filter,"binary-state-sort":""},on:{"update:pagination":function(t){e.pagination=t},request:e.getUsers},scopedSlots:e._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("div",{staticClass:"items-center q-ml-xl"},[n("q-btn",{staticClass:"bg-white text-primary shadow-3 q-btn--push",on:{click:function(t){return e.createNew()}}},[e._v("\n              New User\n            ")])],1)]},proxy:!0},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t},nativeOn:{click:function(n){return e.goToDetail(t.row.id)}}},[n("q-td",{key:"first_name",attrs:{props:t}},[e._v(e._s(t.row.first_name))]),n("q-td",{key:"last_name",attrs:{props:t}},[e._v(e._s(t.row.last_name))]),n("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),n("q-td",{key:"email",attrs:{props:t}},[e._v(e._s(t.row.email))]),n("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),n("q-td",{key:"zipcode",attrs:{props:t}},[e._v(e._s(t.row.zipcode))]),n("q-td",{key:"buttons",attrs:{props:t}},[n("q-btn",{attrs:{icon:"fas fa-trash-alt"},on:{click:function(n){return e.remove(t.row)}},nativeOn:{click:function(e){e.stopPropagation()}}})],1)],1)]}}])})],1)]],2)},r=[],s=(n("7f7f"),n("967e")),i=n.n(s),o=(n("96cf"),n("1e53")),l=n("f508"),c={name:"Users",data:function(){return{filter:"",showDetail:!1,pagination:{sortBy:"name",descending:!1,page:1,rowsPerPage:10,rowsNumber:20},columns:[{name:"first_name",required:!0,label:"First Name",align:"left",field:"first_name",sortable:!0},{name:"last_name",required:!0,label:"Last Name",align:"left",field:"last_name",sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"email",required:!0,label:"Email",align:"center",field:"email",sortable:!0},{name:"phone",required:!0,label:"Phone",align:"center",field:"phone",sortable:!0},{name:"zipcode",required:!0,label:"Zipcode",align:"center",field:"zipcode",sortable:!0},{name:"buttons",label:"",field:"buttons"}],userList:[]}},mounted:function(){this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getUsers({pagination:this.pagination,filter:void 0})},methods:{createNew:function(){this.$router.push({name:"New User"})},goToDetail:function(e){this.$router.push({name:"User Detail",params:{id:e}})},getUsers:function(e){var t,n,a,r,s,c,u,p,d,m,f;return i.a.async((function(g){while(1)switch(g.prev=g.next){case 0:return t=e.pagination,n=t.page,a=t.rowsPerPage,r=t.rowsNumber,s=t.sortBy,c=t.descending,u=e.filter,p=0===a?r:a,d=(n-1)*a,m={conditions:{},start:d,numPerPage:p,sortBy:s,descending:c},u&&(m.conditions.filter=u),l["a"].show(),g.prev=7,g.next=10,i.a.awrap(o["a"].getUsers(m));case 10:f=g.sent,l["a"].hide(),this.userList=f.data.data,this.pagination.rowsNumber=f.data.totalCount,this.pagination.page=n,this.pagination.rowsPerPage=a,this.pagination.sortBy=s,this.pagination.descending=c,g.next=24;break;case 20:g.prev=20,g.t0=g["catch"](7),l["a"].hide(),console.log("errorrrrrrrrrr",g.t0);case 24:case"end":return g.stop()}}),null,this,[[7,20]])},remove:function(e){var t=this;this.$q.dialog({title:"Confirm",message:"Are you surely remove "+e.name+"?",cancel:!0,persistent:!0}).onOk((function(){var n,a;return i.a.async((function(r){while(1)switch(r.prev=r.next){case 0:return n={conditions:{id:e.id}},l["a"].show(),r.prev=2,r.next=5,i.a.awrap(o["a"].removeUser(n));case 5:a=r.sent,l["a"].hide(),console.log("remove result",a),t.$q.notify({color:"positive",position:"top",message:e.name+" is removed successfully !"}),t.getUsers({pagination:t.pagination,filter:void 0}),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](2),l["a"].hide();case 15:case"end":return r.stop()}}),null,null,[[2,12]])})).onCancel((function(){})).onDismiss((function(){}))}},created:function(){}},u=c,p=n("2877"),d=n("9989"),m=n("eaac"),f=n("27f9"),g=n("0016"),h=n("9c40"),b=n("bd08"),w=n("db86"),v=n("eebe"),q=n.n(v),y=Object(p["a"])(u,a,r,!1,null,null,null);t["default"]=y.exports;q()(y,"components",{QPage:d["a"],QTable:m["a"],QInput:f["a"],QIcon:g["a"],QBtn:h["a"],QTr:b["a"],QTd:w["a"]})}}]);