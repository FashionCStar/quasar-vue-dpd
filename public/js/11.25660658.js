(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"6b7b":function(e,t,a){},"7b19":function(e,t,a){"use strict";var i=a("6b7b"),o=a.n(i);o.a},a72c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[[a("div",[a("q-table",{class:e.is_mobile?"my-sticky-dynamic table-top-mobile":"my-sticky-dynamic",attrs:{title:"COURIERS",data:e.courierList,columns:e.columns,"row-key":"courier_name",pagination:e.pagination,filter:e.filter,"binary-state-sort":""},on:{"update:pagination":function(t){e.pagination=t},request:e.getCouriers},scopedSlots:e._u([{key:"top-left",fn:function(){return[a("div",{staticClass:"items-center"},[a("q-btn",{staticStyle:{width:"168px",height:"40px"},attrs:{rounded:"",dense:"","no-caps":"",label:"+Add Driver",color:"blue-7"},on:{click:function(t){return e.goToDetail()}}})],1)]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{staticStyle:{width:"168px"},attrs:{dense:"",debounce:"300",placeholder:"Search","input-class":"text-white border-white",color:"blue-7"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search",color:"white"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},nativeOn:{click:function(a){return e.goToDetail(t.row)}}},[a("q-td",{key:"no",attrs:{props:t}},[e._v(e._s(t.row.index))]),a("q-td",{key:"courier_name",attrs:{props:t}},[e._v(e._s(t.row.courier_name))]),a("q-td",{key:"buttons",attrs:{props:t}},[a("q-btn",{attrs:{flat:"",icon:"fas fa-trash-alt"},on:{click:function(a){return e.remove(t.row)}},nativeOn:{click:function(e){e.stopPropagation()}}})],1)],1)]}},{key:"bottom",fn:function(t){return[a("div",{staticClass:"col-12 row justify-end items-center"},[e._v("\n            Total Records: "+e._s(e.pagination.rowsNumber)+"\n            "),a("q-btn",{attrs:{icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:t.isFirstPage},on:{click:t.prevPage}}),a("span",[e._v(e._s(t.pagination.page)+" / "+e._s(Math.ceil(t.pagination.rowsNumber/t.pagination.rowsPerPage)))]),a("q-btn",{attrs:{icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:t.isLastPage},on:{click:t.nextPage}})],1)]}}])})],1),a("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"scale","transition-hide":"scale"},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}},[a("q-card",{staticStyle:{"background-color":"#3E444E"}},[a("q-bar",{staticStyle:{"background-color":"#3E444E"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"white"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-black"}},[e._v("Close")])],1),a("div",{staticClass:"text-h6 text-white"},[e._v(e._s(e.dialogTitle))])],1),a("q-separator"),a("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[a("q-form",{ref:"selectedName",staticStyle:{"max-width":"400px",margin:"auto"},attrs:{model:e.selectedName},on:{submit:e.onSubmit}},[a("div",{staticClass:"row justify-between q-col-gutter-md"},[a("div",{staticClass:"col-12"},[a("span",{staticClass:"text-white"},[e._v("Route")]),a("q-input",{attrs:{dense:"",outlined:"",required:"",color:"blue-7","bg-color":"white","input-class":"text-black text-center"},model:{value:e.selectedName.courier_name,callback:function(t){e.$set(e.selectedName,"courier_name",t)},expression:"selectedName.courier_name"}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[e.isNewRecord?e._e():a("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{"no-caps":"",dense:"",rounded:"",label:"Delete",color:"blue-7"},on:{click:e.remove}}),a("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{label:e.isNewRecord?"Add":"Update",color:"blue-7","no-caps":"",dense:"",rounded:"",type:"submit"}})],1)],1)],1)],1)],1)]],2)},o=[],n=a("967e"),r=a.n(n),s=(a("96cf"),a("1e53")),c=a("f508"),l={name:"CourierList",data:function(){return{filter:"",showDetail:!1,pagination:{sortBy:"courier_name",descending:!1,page:1,rowsPerPage:10,rowsNumber:20},columns:[{name:"no",required:!0,label:"NO",align:"left",field:"no"},{name:"courier_name",required:!0,label:"COURIER",align:"left",field:"courier_name",sortable:!0},{name:"buttons",label:"",field:"buttons"}],courierList:[],selectedName:{courier_name:""},dialogTitle:"",is_mobile:!1,isNewRecord:!0}},mounted:function(){this.checkPlatform(),this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getCouriers({pagination:this.pagination,filter:void 0})},methods:{checkPlatform:function(){this.$q.platform.is.mobile?this.is_mobile=!0:this.is_mobile=!1},createNew:function(){this.$router.push({name:"NewName"})},goToDetail:function(e){e?(this.isNewRecord=!1,this.dialogTitle="Edit Name",this.selectedName.id=e.id,this.selectedName.courier_name=e.courier_name):(this.isNewRecord=!0,this.dialogTitle="Add New Name",this.selectedName={courier_name:""}),this.showDetail=!0},getCouriers:function(e){var t,a,i,o,n,l,u,d,p,h,m;return r.a.async((function(f){while(1)switch(f.prev=f.next){case 0:return t=e.pagination,a=t.page,i=t.rowsPerPage,o=t.rowsNumber,n=t.sortBy,l=t.descending,u=e.filter,d=0===i?o:i,p=(a-1)*i,h={conditions:{},start:p,numPerPage:d,sortBy:n,descending:l},u&&(h.conditions.filter=u),c["a"].show(),f.prev=7,f.next=10,r.a.awrap(s["a"].getCouriers(h));case 10:m=f.sent,c["a"].hide(),this.courierList=m.data.data,this.courierList.forEach((function(e,t){e.index=t+1})),this.pagination.rowsNumber=m.data.totalCount,this.pagination.page=a,this.pagination.rowsPerPage=i,this.pagination.sortBy=n,this.pagination.descending=l,f.next=24;break;case 21:f.prev=21,f.t0=f["catch"](7),c["a"].hide();case 24:case"end":return f.stop()}}),null,this,[[7,21]])},cancelDetail:function(){this.showDetail=!1,this.selectedName={}},onSubmit:function(){var e,t,a;return r.a.async((function(i){while(1)switch(i.prev=i.next){case 0:if(e={data:this.selectedName},!this.selectedName.id){i.next=19;break}return e.conditions={id:this.selectedName.id},c["a"].show(),i.prev=4,i.next=7,r.a.awrap(s["a"].updateCourier(e));case 7:t=i.sent,c["a"].hide(),console.log("result",t.data),i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](4),c["a"].hide(),console.log("error",i.t0);case 16:this.cancelDetail(),i.next=33;break;case 19:return c["a"].show(),i.prev=20,i.next=23,r.a.awrap(s["a"].createCourier(e));case 23:a=i.sent,c["a"].hide(),console.log("result",a.data),i.next=32;break;case 28:i.prev=28,i.t1=i["catch"](20),c["a"].hide(),console.log("error",i.t1);case 32:this.cancelDetail();case 33:this.getCouriers({pagination:this.pagination,filter:void 0});case 34:case"end":return i.stop()}}),null,this,[[4,12],[20,28]])},remove:function(e){var t=this;this.$q.dialog({title:"Confirm",message:"Are you surely remove "+e.courier_name+"?",cancel:!0,persistent:!0,color:"blue-7"}).onOk((function(){var a,i;return r.a.async((function(o){while(1)switch(o.prev=o.next){case 0:return a={conditions:{id:e.id}},c["a"].show(),o.prev=2,o.next=5,r.a.awrap(s["a"].removeCourier(a));case 5:i=o.sent,c["a"].hide(),console.log("remove result",i),t.$q.notify({color:"positive",position:"top",message:e.courier_name+" is removed successfully !"}),t.getCouriers({pagination:t.pagination,filter:void 0}),o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](2),c["a"].hide();case 15:case"end":return o.stop()}}),null,null,[[2,12]])})).onCancel((function(){})).onDismiss((function(){}))}},created:function(){}},u=l,d=(a("7b19"),a("2877")),p=a("9989"),h=a("eaac"),m=a("9c40"),f=a("27f9"),g=a("0016"),b=a("bd08"),w=a("db86"),v=a("24e8"),y=a("f09f"),x=a("d847"),_=a("05c0"),k=a("eb85"),q=a("a370"),N=a("0378"),C=a("4b7e"),P=a("7f67"),D=a("eebe"),S=a.n(D),Q=Object(d["a"])(u,i,o,!1,null,null,null);t["default"]=Q.exports;S()(Q,"components",{QPage:p["a"],QTable:h["a"],QBtn:m["a"],QInput:f["a"],QIcon:g["a"],QTr:b["a"],QTd:w["a"],QDialog:v["a"],QCard:y["a"],QBar:x["a"],QTooltip:_["a"],QSeparator:k["a"],QCardSection:q["a"],QForm:N["a"],QCardActions:C["a"]}),S()(Q,"directives",{ClosePopup:P["a"]})}}]);