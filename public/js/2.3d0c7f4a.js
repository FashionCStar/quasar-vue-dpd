(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"9d4a":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{attrs:{padding:""}},[t("div",{staticClass:"bg-light-blue",staticStyle:{width:"100%",height:"150px",position:"absolute"}}),[t("div",{staticClass:"q-pa-md"},[[t("div",{staticClass:"row items-center justify-between text-white",staticStyle:{height:"150px",position:"relative"}},[t("div",{staticClass:"items-center",staticStyle:{"font-size":"20px"}},[t("q-btn",{staticClass:"bg-white text-primary shadow-3 q-btn--push q-mr-md",attrs:{rounded:"",icon:"fas fa-arrow-left"},on:{click:function(s){return e.$router.push("/dashboard/users")}}}),t("span",[e._v(e._s(e.isNewPage?"New User":"User Detail"))])],1)])],t("q-form",{staticClass:"text-center q-pa-md shadow-3 q-mx-auto",staticStyle:{"max-width":"700px","border-radius":"10px"},on:{submit:e.onSubmit}},[t("div",{staticClass:"row justify-between q-col-gutter-md"},[t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",dense:"",required:"",label:"First Name",color:"cyan-7"},model:{value:e.user.first_name,callback:function(s){e.$set(e.user,"first_name",s)},expression:"user.first_name"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",dense:"",required:"",label:"Last Name",color:"cyan-7"},model:{value:e.user.last_name,callback:function(s){e.$set(e.user,"last_name",s)},expression:"user.last_name"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",dense:"",required:"",label:"Username",color:"cyan-7"},model:{value:e.user.name,callback:function(s){e.$set(e.user,"name",s)},expression:"user.name"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",dense:"",required:"",label:"Email",type:"email",color:"cyan-7"},model:{value:e.user.email,callback:function(s){e.$set(e.user,"email",s)},expression:"user.email"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",dense:"",required:"",label:"Mobile Phone",color:"cyan-7"},model:{value:e.user.phone,callback:function(s){e.$set(e.user,"phone",s)},expression:"user.phone"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",dense:"",required:"",label:"Zip Code",color:"cyan-7"},model:{value:e.user.zipcode,callback:function(s){e.$set(e.user,"zipcode",s)},expression:"user.zipcode"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("base-text-field",{staticClass:"q-ml-none",attrs:{outlined:"",required:"",dense:"",color:"cyan-7","normalize-bottom":"",label:"Password",icon:"mdi-card",clearable:"",type:"password","hide-show-password":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}]),model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),t("div",{staticClass:"col-12 col-sm-6"},[t("base-text-field",{staticClass:"q-ml-none",attrs:{outlined:"",required:"",dense:"",color:"cyan-7","normalize-bottom":"",label:"Confirm Password",icon:"mdi-card",clearable:"",type:"password",rules:[function(s){return s===e.user.password||"Password is not match"}],"hide-show-password":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"mdi-account-key"}})]},proxy:!0}]),model:{value:e.user.confirmPassword,callback:function(s){e.$set(e.user,"confirmPassword",s)},expression:"user.confirmPassword"}})],1),t("div",{staticClass:"col-12"},[t("q-btn",{staticClass:"q-btn--push",staticStyle:{width:"200px",height:"50px"},attrs:{label:e.isNewPage?"Add New":"Update",type:"submit",color:"pink-8"}})],1)])])],2)]],2)},r=[],i=t("967e"),o=t.n(i),n=(t("96cf"),t("f508")),c=t("1e53"),l={name:"NewUser",data:function(){return{user:{id:"",name:"",password:"",confirmPassword:"",phone:"",email:"",first_name:"",last_name:"",zipcode:"",user_type:1},userAvatar:{},isNewPage:!1}},created:function(){return o.a.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.isNew(),this.isNewPage){e.next=5;break}return e.next=5,o.a.awrap(this.getUserInfo(this.user.id));case 5:case"end":return e.stop()}}),null,this)},methods:{isNew:function(){null!==this.$router.currentRoute.params.id&&void 0!==this.$router.currentRoute.params.id&&""!==this.$router.currentRoute.params.id?(this.isNewPage=!1,this.user.id=this.$router.currentRoute.params.id):this.isNewPage=!0},getUserInfo:function(e){var s;return o.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return n["a"].show(),t.prev=1,t.next=4,o.a.awrap(c["a"].getUserInfo(e));case 4:s=t.sent,this.user=s.data.user,console.log("user details",s.data.user),n["a"].hide(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),n["a"].hide(),this.$router.push("/dashboard/users");case 14:case"end":return t.stop()}}),null,this,[[1,10]])},addAvatar:function(e){this.userAvatar=e[0]},onSubmit:function(){var e,s,t;return o.a.async((function(a){while(1)switch(a.prev=a.next){case 0:if(!this.isNewPage){a.next=17;break}return n["a"].show(),a.prev=2,a.next=5,o.a.awrap(c["a"].registerUser(this.user));case 5:e=a.sent,console.log("res",e.data),n["a"].hide(),this.$q.notify({color:"positive",textColor:"white",position:"top",message:"User is registered successfully"}),this.$router.push("/dashboard/users"),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](2),n["a"].hide();case 15:a.next=33;break;case 17:return s={data:this.user},s.conditions={id:this.user.id},n["a"].show(),a.prev=20,a.next=23,o.a.awrap(c["a"].updateUser(s));case 23:t=a.sent,n["a"].hide(),console.log("result",t.data),a.next=32;break;case 28:a.prev=28,a.t1=a["catch"](20),n["a"].hide(),console.log("error",a.t1);case 32:this.$router.push("/dashboard/users");case 33:case"end":return a.stop()}}),null,this,[[2,12],[20,28]])}}},u=l,d=t("2877"),p=t("9989"),h=t("9c40"),m=t("0378"),w=t("ee89"),f=t("27f9"),b=t("0016"),v=t("eebe"),x=t.n(v),y=Object(d["a"])(u,a,r,!1,null,null,null);s["default"]=y.exports;x()(y,"components",{QPage:p["a"],QBtn:h["a"],QForm:m["a"],QUploader:w["a"],QInput:f["a"],QIcon:b["a"]})}}]);