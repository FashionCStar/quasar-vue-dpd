(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"6b7b":function(e,t,i){},"7b19":function(e,t,i){"use strict";var a=i("6b7b"),r=i.n(a);r.a},a72c:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[[i("div",[i("q-table",{class:"ios"===e.is_mobile?"my-sticky-dynamic table-top-ios":"android"===e.is_mobile?"my-sticky-dynamic table-top-android":"my-sticky-dynamic",attrs:{title:"COURIERS",data:e.courierList,columns:e.columns,"row-key":"courier_name",pagination:e.pagination,filter:e.filter,"binary-state-sort":"","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,"rows-per-page-options":[0]},on:{"update:pagination":function(t){e.pagination=t},request:e.getCouriers,"virtual-scroll":e.onScroll},scopedSlots:e._u([{key:"top-left",fn:function(){return[i("div",{staticClass:"items-center"},[i("q-btn",{staticStyle:{width:"168px",height:"40px"},attrs:{rounded:"",dense:"","no-caps":"",label:"+Add Driver",color:"blue-7"},on:{click:function(t){return e.goToDetail()}}})],1)]},proxy:!0},{key:"top-right",fn:function(){return[i("q-input",{staticClass:"q-mb-sm",staticStyle:{width:"168px"},attrs:{dense:"",debounce:"300",placeholder:"Search","input-class":"text-white border-white",color:"blue-7"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"search",color:"white"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t},nativeOn:{click:function(i){return e.goToDetail(t.row)}}},[i("q-td",{key:"no",attrs:{props:t}},[e._v(e._s(t.row.index))]),i("q-td",{key:"courier_name",attrs:{props:t}},[e._v(e._s(t.row.courier_name))])],1)]}},{key:"bottom",fn:function(){return[i("div",{staticClass:"col-12 row justify-end items-center"},[e._v("\n            Total Records: "+e._s(e.pagination.rowsNumber)+"\n            ")])]},proxy:!0}])})],1),i("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}},[i("q-card",{staticStyle:{"background-color":"#3E444E","max-width":"500px","min-height":"500px"}},[i("q-bar",{staticStyle:{"background-color":"#272B33"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"white"}},[i("q-tooltip",{attrs:{"content-class":"bg-white text-black"}},[e._v("Close")])],1),i("div",{staticClass:"text-h6 text-white"},[e._v(e._s(e.dialogTitle))])],1),i("q-separator"),i("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[i("q-form",{ref:"selectedName",staticStyle:{width:"320px",margin:"auto"},attrs:{model:e.selectedName},on:{submit:e.onSubmit}},[i("div",{staticClass:"row justify-between q-col-gutter-md"},[i("div",{staticClass:"col-12"},[i("span",{staticClass:"text-white"},[e._v("Route")]),i("q-input",{attrs:{dense:"",outlined:"",required:"",color:"blue-7","bg-color":"white","input-class":"text-black text-center"},model:{value:e.selectedName.courier_name,callback:function(t){e.$set(e.selectedName,"courier_name",t)},expression:"selectedName.courier_name"}})],1)]),i("q-separator"),i("q-card-actions",{attrs:{align:"center"}},[e.isNewRecord?e._e():i("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{"no-caps":"",dense:"",rounded:"",label:"Delete",color:"blue-7"},on:{click:e.remove}}),i("q-btn",{staticStyle:{width:"100px",height:"40px"},attrs:{label:e.isNewRecord?"Add":"Update",color:"blue-7","no-caps":"",dense:"",rounded:"",type:"submit"}})],1)],1)],1)],1)],1)]],2)},r=[],o=i("a34a"),n=i.n(o),s=(i("96cf"),i("c973")),c=i.n(s),l=i("1e53"),u=i("f508"),d={name:"CourierList",data:function(){return{filter:"",showDetail:!1,pagination:{sortBy:"courier_name",descending:!1,page:1,rowsPerPage:100,rowsNumber:20},columns:[{name:"no",required:!0,label:"NO",align:"left",field:"no"},{name:"courier_name",required:!0,label:"COURIER",align:"left",field:"courier_name",sortable:!0}],courierList:[],selectedName:{courier_name:""},dialogTitle:"",is_mobile:"web",isNewRecord:!0}},mounted:function(){this.checkPlatform(),this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getCouriers({pagination:this.pagination,filter:void 0})},methods:{checkPlatform:function(){this.$q.platform.is.mobile?this.$q.platform.is.ios?this.is_mobile="ios":this.is_mobile="android":this.is_mobile="web"},createNew:function(){this.$router.push({name:"NewName"})},goToDetail:function(e){e?(this.isNewRecord=!1,this.dialogTitle="Edit Name",this.selectedName.id=e.id,this.selectedName.courier_name=e.courier_name):(this.isNewRecord=!0,this.dialogTitle="Add New Name",this.selectedName={courier_name:""}),this.showDetail=!0},onScroll:function(e){var t=this;return c()(n.a.mark((function i(){var a,r,o,s,c,l,u;return n.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.index,e.from,e.to,e.ref,r=t.pagination,o=r.page,s=r.rowsPerPage,c=r.rowsNumber,l=t.courierList.length-1,u=Math.ceil(c/s),!(a>0&&o<u&&a===l)){i.next=8;break}return t.pagination.page++,i.next=8,t.getCouriers({pagination:t.pagination,filter:t.filter,isScroll:!0});case 8:case"end":return i.stop()}}),i)})))()},getCouriers:function(){var e=c()(n.a.mark((function e(t){var i,a,r,o,s,c,d,p,m,h,f,g;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.pagination,a=i.page,r=i.rowsPerPage,o=i.rowsNumber,s=i.sortBy,c=i.descending,d=t.filter,p=t.isScroll,m=0===r?o:r,h=(a-1)*r,f={conditions:{},start:h,numPerPage:m,sortBy:s,descending:c},d&&(f.conditions.filter=d),u["a"].show(),e.prev=8,e.next=11,l["a"].getCouriers(f);case 11:g=e.sent,u["a"].hide(),g.data.data.forEach((function(e,t){e.index=10*(a-1)+t+1})),this.courierList=p?this.courierList.concat(g.data.data):g.data.data,this.pagination.rowsNumber=g.data.totalCount,this.pagination.page=a,this.pagination.rowsPerPage=r,this.pagination.sortBy=s,this.pagination.descending=c,e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),u["a"].hide();case 25:case"end":return e.stop()}}),e,this,[[8,22]])})));function t(t){return e.apply(this,arguments)}return t}(),cancelDetail:function(){this.showDetail=!1,this.selectedName={}},onSubmit:function(){var e=this;return c()(n.a.mark((function t(){var i,a,r;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={data:e.selectedName},!e.selectedName.id){t.next=19;break}return i.conditions={id:e.selectedName.id},u["a"].show(),t.prev=4,t.next=7,l["a"].updateCourier(i);case 7:a=t.sent,u["a"].hide(),console.log("result",a.data),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),u["a"].hide(),console.log("error",t.t0);case 16:e.cancelDetail(),t.next=33;break;case 19:return u["a"].show(),t.prev=20,t.next=23,l["a"].createCourier(i);case 23:r=t.sent,u["a"].hide(),console.log("result",r.data),t.next=32;break;case 28:t.prev=28,t.t1=t["catch"](20),u["a"].hide(),console.log("error",t.t1);case 32:e.cancelDetail();case 33:e.getCouriers({pagination:e.pagination,filter:void 0});case 34:case"end":return t.stop()}}),t,null,[[4,12],[20,28]])})))()},remove:function(e){var t=this;this.$q.dialog({title:"Confirm",message:"Are you surely remove "+e.courier_name+"?",cancel:!0,persistent:!0,color:"blue-7"}).onOk(c()(n.a.mark((function i(){var a,r;return n.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={conditions:{id:e.id}},u["a"].show(),i.prev=2,i.next=5,l["a"].removeCourier(a);case 5:r=i.sent,u["a"].hide(),console.log("remove result",r),t.$q.notify({color:"positive",position:"top",message:e.courier_name+" is removed successfully !"}),t.getCouriers({pagination:t.pagination,filter:void 0}),i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](2),u["a"].hide();case 15:case"end":return i.stop()}}),i,null,[[2,12]])})))).onCancel((function(){})).onDismiss((function(){}))}},created:function(){}},p=d,m=(i("7b19"),i("2877")),h=i("9989"),f=i("eaac"),g=i("9c40"),b=i("27f9"),w=i("0016"),v=i("bd08"),x=i("db86"),y=i("24e8"),k=i("f09f"),_=i("d847"),q=i("05c0"),N=i("eb85"),C=i("a370"),S=i("0378"),D=i("4b7e"),Q=i("7f67"),P=i("eebe"),T=i.n(P),R=Object(m["a"])(p,a,r,!1,null,null,null);t["default"]=R.exports;T()(R,"components",{QPage:h["a"],QTable:f["a"],QBtn:g["a"],QInput:b["a"],QIcon:w["a"],QTr:v["a"],QTd:x["a"],QDialog:y["a"],QCard:k["a"],QBar:_["a"],QTooltip:q["a"],QSeparator:N["a"],QCardSection:C["a"],QForm:S["a"],QCardActions:D["a"]}),T()(R,"directives",{ClosePopup:Q["a"]})}}]);