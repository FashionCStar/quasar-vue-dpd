(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"86e6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[[n("div",[n("q-table",{class:e.is_mobile?"my-sticky-dynamic table-top-mobile":"my-sticky-dynamic",attrs:{title:"Users",data:e.userList,columns:e.columns,"row-key":"name",pagination:e.pagination,filter:e.filter,"binary-state-sort":""},on:{"update:pagination":function(t){e.pagination=t},request:e.getUsers},scopedSlots:e._u([{key:"top-left",fn:function(){return[n("div",{staticClass:"items-center"},[n("q-btn",{staticStyle:{width:"168px",height:"40px"},attrs:{rounded:"",dense:"","no-caps":"",label:"+Add User",color:"blue-7"},on:{click:function(t){return e.createNew()}}})],1)]},proxy:!0},{key:"top-right",fn:function(){return[n("q-input",{staticStyle:{width:"168px"},attrs:{dense:"",debounce:"300",placeholder:"Search","input-class":"text-white border-white",color:"blue-7"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search",color:"white"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t},nativeOn:{click:function(n){return e.goToDetail(t.row.id)}}},[n("q-td",{key:"first_name",attrs:{props:t}},[e._v(e._s(t.row.first_name))]),n("q-td",{key:"last_name",attrs:{props:t}},[e._v(e._s(t.row.last_name))]),n("q-td",{key:"name",attrs:{props:t}},[e._v(e._s(t.row.name))]),n("q-td",{key:"email",attrs:{props:t}},[e._v(e._s(t.row.email))]),n("q-td",{key:"phone",attrs:{props:t}},[e._v(e._s(t.row.phone))]),n("q-td",{key:"zipcode",attrs:{props:t}},[e._v(e._s(t.row.zipcode))]),n("q-td",{key:"buttons",attrs:{props:t}},[n("q-btn",{attrs:{flat:"",icon:"fas fa-trash-alt"},on:{click:function(n){return e.remove(t.row)}},nativeOn:{click:function(e){e.stopPropagation()}}})],1)],1)]}},{key:"bottom",fn:function(t){return[n("div",{staticClass:"col-12 row justify-end items-center"},[e._v("\n            Total Records: "+e._s(t.pagination.rowsNumber)+"\n            "),n("q-btn",{attrs:{icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:t.isFirstPage},on:{click:t.prevPage}}),n("span",[e._v(e._s(t.pagination.page)+" / "+e._s(Math.ceil(t.pagination.rowsNumber/t.pagination.rowsPerPage)))]),n("q-btn",{attrs:{icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:t.isLastPage},on:{click:t.nextPage}})],1)]}}])})],1)]],2)},i=[],r=(n("7f7f"),n("967e")),s=n.n(r),o=(n("96cf"),n("1e53")),l=n("f508"),c={name:"Users",data:function(){return{filter:"",showDetail:!1,pagination:{sortBy:"name",descending:!1,page:1,rowsPerPage:10,rowsNumber:20},columns:[{name:"first_name",required:!0,label:"First Name",align:"left",field:"first_name",sortable:!0},{name:"last_name",required:!0,label:"Last Name",align:"left",field:"last_name",sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"email",required:!0,label:"Email",align:"center",field:"email",sortable:!0},{name:"phone",required:!0,label:"Phone",align:"center",field:"phone",sortable:!0},{name:"zipcode",required:!0,label:"Zipcode",align:"center",field:"zipcode",sortable:!0},{name:"buttons",label:"",field:"buttons"}],userList:[],is_mobile:!1}},mounted:function(){this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getUsers({pagination:this.pagination,filter:void 0})},methods:{checkPlatform:function(){this.$q.platform.is.mobile?this.is_mobile=!0:this.is_mobile=!1},createNew:function(){this.$router.push({name:"New User"})},goToDetail:function(e){this.$router.push({name:"User Detail",params:{id:e}})},getUsers:function(e){var t,n,a,i,r,c,u,p,d,f,m;return s.a.async((function(g){while(1)switch(g.prev=g.next){case 0:return t=e.pagination,n=t.page,a=t.rowsPerPage,i=t.rowsNumber,r=t.sortBy,c=t.descending,u=e.filter,p=0===a?i:a,d=(n-1)*a,f={conditions:{},start:d,numPerPage:p,sortBy:r,descending:c},u&&(f.conditions.filter=u),l["a"].show(),g.prev=7,g.next=10,s.a.awrap(o["a"].getUsers(f));case 10:m=g.sent,l["a"].hide(),this.userList=m.data.data,this.pagination.rowsNumber=m.data.totalCount,this.pagination.page=n,this.pagination.rowsPerPage=a,this.pagination.sortBy=r,this.pagination.descending=c,g.next=24;break;case 20:g.prev=20,g.t0=g["catch"](7),l["a"].hide(),console.log("errorrrrrrrrrr",g.t0);case 24:case"end":return g.stop()}}),null,this,[[7,20]])},remove:function(e){var t=this;this.$q.dialog({title:"Confirm",message:"Are you surely remove "+e.name+"?",cancel:!0,persistent:!0}).onOk((function(){var n,a;return s.a.async((function(i){while(1)switch(i.prev=i.next){case 0:return n={conditions:{id:e.id}},l["a"].show(),i.prev=2,i.next=5,s.a.awrap(o["a"].removeUser(n));case 5:a=i.sent,l["a"].hide(),console.log("remove result",a),t.$q.notify({color:"positive",position:"top",message:e.name+" is removed successfully !"}),t.getUsers({pagination:t.pagination,filter:void 0}),i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](2),l["a"].hide();case 15:case"end":return i.stop()}}),null,null,[[2,12]])})).onCancel((function(){})).onDismiss((function(){}))}},created:function(){}},u=c,p=(n("a07f"),n("2877")),d=n("9989"),f=n("eaac"),m=n("27f9"),g=n("0016"),h=n("9c40"),b=n("bd08"),w=n("db86"),y=n("eebe"),v=n.n(y),_=Object(p["a"])(u,a,i,!1,null,null,null);t["default"]=_.exports;v()(_,"components",{QPage:d["a"],QTable:f["a"],QInput:m["a"],QIcon:g["a"],QBtn:h["a"],QTr:b["a"],QTd:w["a"]})},"8dd1":function(e,t,n){},a07f:function(e,t,n){"use strict";var a=n("8dd1"),i=n.n(a);i.a}}]);