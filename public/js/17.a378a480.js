(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{a72c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[[a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{title:"COURIERS",data:e.courierList,columns:e.columns,"row-key":"courier_name",pagination:e.pagination,filter:e.filter,"binary-state-sort":""},on:{"update:pagination":function(t){e.pagination=t},request:e.getCouriers},scopedSlots:e._u([{key:"top-left",fn:function(){return[a("div",{staticClass:"items-center"},[a("q-btn",{staticClass:"bg-white text-primary shadow-3 q-btn--push",on:{click:function(t){return e.goToDetail()}}},[e._v("\n              New COURIER\n            ")])],1)]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},nativeOn:{click:function(a){return e.goToDetail(t.row)}}},[a("q-td",{key:"courier_name",attrs:{props:t}},[e._v(e._s(t.row.courier_name))]),a("q-td",{key:"buttons",attrs:{props:t}},[a("q-btn",{attrs:{icon:"fas fa-trash-alt"},on:{click:function(a){return e.remove(t.row)}},nativeOn:{click:function(e){e.stopPropagation()}}})],1)],1)]}}])})],1),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(e.dialogTitle))])]),a("q-separator"),a("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[a("q-form",{ref:"selectedName",attrs:{model:e.selectedName},on:{submit:e.onSubmit}},[a("div",{staticClass:"row justify-between q-col-gutter-md"},[a("div",{staticClass:"col-12"},[a("q-input",{attrs:{outlined:"",required:"",label:"Name",color:"cyan-7"},model:{value:e.selectedName.courier_name,callback:function(t){e.$set(e.selectedName,"courier_name",t)},expression:"selectedName.courier_name"}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:e.cancelDetail}}),a("q-btn",{attrs:{flat:"",label:"Save",color:"primary",type:"submit"}})],1)],1)],1)],1)],1)]],2)},r=[],n=a("967e"),o=a.n(n),s=(a("96cf"),a("1e53")),c=a("f508"),l={name:"CourierList",data:function(){return{filter:"",showDetail:!1,pagination:{sortBy:"courier_name",descending:!1,page:1,rowsPerPage:10,rowsNumber:20},columns:[{name:"courier_name",required:!0,label:"COURIER",align:"left",field:"courier_name",sortable:!0},{name:"buttons",label:"",field:"buttons"}],courierList:[],selectedName:{courier_name:""},dialogTitle:""}},mounted:function(){this.$store.commit("auth/pageTitle",this.$router.currentRoute.meta.title),this.getCouriers({pagination:this.pagination,filter:void 0})},methods:{createNew:function(){this.$router.push({name:"NewName"})},goToDetail:function(e){e?(this.dialogTitle="Edit Name",this.selectedName.id=e.id,this.selectedName.courier_name=e.courier_name):(this.dialogTitle="Add New Name",this.selectedName={courier_name:""}),this.showDetail=!0},getCouriers:function(e){var t,a,i,r,n,l,u,d,p,h,m;return o.a.async((function(f){while(1)switch(f.prev=f.next){case 0:return t=e.pagination,a=t.page,i=t.rowsPerPage,r=t.rowsNumber,n=t.sortBy,l=t.descending,u=e.filter,d=0===i?r:i,p=(a-1)*i,h={conditions:{},start:p,numPerPage:d,sortBy:n,descending:l},u&&(h.conditions.filter=u),c["a"].show(),f.prev=7,f.next=10,o.a.awrap(s["a"].getCouriers(h));case 10:m=f.sent,c["a"].hide(),this.courierList=m.data.data,this.courierList.forEach((function(e,t){e.index=t+1})),this.pagination.rowsNumber=m.data.totalCount,this.pagination.page=a,this.pagination.rowsPerPage=i,this.pagination.sortBy=n,this.pagination.descending=l,f.next=25;break;case 21:f.prev=21,f.t0=f["catch"](7),c["a"].hide(),console.log("errorrrrrrrrrr",f.t0);case 25:case"end":return f.stop()}}),null,this,[[7,21]])},cancelDetail:function(){this.showDetail=!1,this.selectedName={}},onSubmit:function(){var e,t,a;return o.a.async((function(i){while(1)switch(i.prev=i.next){case 0:if(e={data:this.selectedName},!this.selectedName.id){i.next=19;break}return e.conditions={id:this.selectedName.id},c["a"].show(),i.prev=4,i.next=7,o.a.awrap(s["a"].updateCourier(e));case 7:t=i.sent,c["a"].hide(),console.log("result",t.data),i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](4),c["a"].hide(),console.log("error",i.t0);case 16:this.cancelDetail(),i.next=33;break;case 19:return c["a"].show(),i.prev=20,i.next=23,o.a.awrap(s["a"].createCourier(e));case 23:a=i.sent,c["a"].hide(),console.log("result",a.data),i.next=32;break;case 28:i.prev=28,i.t1=i["catch"](20),c["a"].hide(),console.log("error",i.t1);case 32:this.cancelDetail();case 33:this.getCouriers({pagination:this.pagination,filter:void 0});case 34:case"end":return i.stop()}}),null,this,[[4,12],[20,28]])},remove:function(e){var t=this;this.$q.dialog({title:"Confirm",message:"Are you surely remove "+e.courier_name+"?",cancel:!0,persistent:!0}).onOk((function(){var a,i;return o.a.async((function(r){while(1)switch(r.prev=r.next){case 0:return a={conditions:{id:e.id}},c["a"].show(),r.prev=2,r.next=5,o.a.awrap(s["a"].removeCourier(a));case 5:i=r.sent,c["a"].hide(),console.log("remove result",i),t.$q.notify({color:"positive",position:"top",message:e.courier_name+" is removed successfully !"}),t.getCouriers({pagination:t.pagination,filter:void 0}),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](2),c["a"].hide();case 15:case"end":return r.stop()}}),null,null,[[2,12]])})).onCancel((function(){})).onDismiss((function(){}))}},created:function(){}},u=l,d=a("2877"),p=a("9989"),h=a("eaac"),m=a("9c40"),f=a("27f9"),g=a("0016"),b=a("bd08"),w=a("db86"),v=a("24e8"),y=a("f09f"),q=a("a370"),C=a("eb85"),k=a("0378"),x=a("4b7e"),N=a("eebe"),_=a.n(N),D=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=D.exports;_()(D,"components",{QPage:p["a"],QTable:h["a"],QBtn:m["a"],QInput:f["a"],QIcon:g["a"],QTr:b["a"],QTd:w["a"],QDialog:v["a"],QCard:y["a"],QCardSection:q["a"],QSeparator:C["a"],QForm:k["a"],QCardActions:x["a"]})}}]);